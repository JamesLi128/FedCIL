# Hyperparameter sweep configuration for CIFAR-10
# Usage: python run.py --config-name=sweep_cifar10 -m
#
# This will run all combinations within a single SLURM allocation

defaults:
  - cifar10

hydra:
  mode: MULTIRUN
  sweeper:
    params:
      # federated
      federated.num_clients: 5
      federated.clients_per_round: 3      

      # training
      training.global_rounds: 30, 50
      training.local_epochs: 5
      training.gan_lr: 1e-4, 5e-4, 1e-3
      training.lr: 1e-3, 5e-4

      # replay
      replay.ratio: 1.0

      # logging
      logging.log_dir: /home/hli54/scratch/logs/fcil/cifar10/nc5cpr3/gan-lr-and-lr-sweep/

      # hydra
      hydra.sweep.dir: ${logging.log_dir}/${now:%Y-%m-%d}/${now:%H-%M-%S}
      hydra.sweep.subdir: gan-lr-${training.gan_lr}_lr-${training.lr}