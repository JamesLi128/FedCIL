# Hyperparameter sweep configuration for CIFAR-10
# Usage: python run.py --config-name=nc100cpr10 -m
#
# This will run all combinations within a single SLURM allocation

defaults:
  - cifar10
  - _self_

# Override logging directory for this sweep
logging:
  log_dir: /home/hli54/scratch/logs/fcil/cifar10/nc100cpr10/gan-lr-and-lr-sweep

hydra:
  mode: MULTIRUN
  sweep:
    dir: ${logging.log_dir}/${now:%Y-%m-%d}/${now:%H-%M-%S}
    subdir: gan-lr-${training.gan_lr}_lr-${training.lr}
  sweeper:
    params:
      # federated
      federated.num_clients: 100
      federated.clients_per_round: 10

      # training
      training.global_rounds: 50
      training.local_epochs: 5
      training.gan_lr: 5e-4, 1e-3
      training.lr: 1e-3, 5e-4

      # replay
      replay.ratio: 1.0